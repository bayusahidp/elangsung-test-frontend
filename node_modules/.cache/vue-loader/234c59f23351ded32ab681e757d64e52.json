{"remainingRequest":"/Users/bayusahidp/Files/bayu/code/elangsung/elangsung-test-frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/bayusahidp/Files/bayu/code/elangsung/elangsung-test-frontend/src/views/Useredit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/bayusahidp/Files/bayu/code/elangsung/elangsung-test-frontend/src/views/Useredit.vue","mtime":1644750720292},{"path":"/Users/bayusahidp/Files/bayu/code/elangsung/elangsung-test-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/bayusahidp/Files/bayu/code/elangsung/elangsung-test-frontend/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/bayusahidp/Files/bayu/code/elangsung/elangsung-test-frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/bayusahidp/Files/bayu/code/elangsung/elangsung-test-frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CmltcG9ydCBOYXZiYXIgZnJvbSAiLi4vY29tcG9uZW50cy9OYXZiYXIudnVlIjsKCmV4cG9ydCBkZWZhdWx0IHsKY29tcG9uZW50czogeyBOYXZiYXIgfSwKCiAgZGF0YSAoKSB7CiAgICByZXR1cm4gewogICAgICBwb3N0OiB7fSwKICAgICAgbmFtZTogJycsCiAgICAgIHVzZXJuYW1lOiAnJywKICAgICAgZW1haWw6ICcnLAogICAgICBmYWt1bHRhczogJycsCiAgICAgIGp1cnVzYW46ICcnLAogICAgICBhbGFtYXQ6ICcnLAogICAgfQogIH0sCgogIG1vdW50ZWQ6IGZ1bmN0aW9uICgpIHsKICAgIGxldCBzZWxmID0gdGhpczsKCiAgICB2YXIgdG9rZW4gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidG9rZW4iKTsKICAgIGF4aW9zKHsKICAgICAgICBtZXRob2Q6ICJnZXQiLAogICAgICAgIHVybDogImh0dHA6Ly9sb2NhbGhvc3Q6ODAwMC9hcGkvdXNlci9kZXRhaWwvIiArIHRoaXMuJHJvdXRlLnBhcmFtcy5pZCwKICAgICAgICBoZWFkZXJzOiB7CiAgICAgICAgICAgICJBdXRob3JpemF0aW9uIjogIkJlYXJlciAiICsgdG9rZW4KICAgICAgICB9CiAgICB9KS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09IDIwMCkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhLnN0YXR1cyA9PSB0cnVlKSB7CiAgICAgICAgICAgIHRoaXMucG9zdCA9IHJlc3BvbnNlLmRhdGEuZGF0YTsKICAgICAgICB9CiAgICAgIH0KICAgIH0pLmNhdGNoKChlcnIpID0+IHsKICAgICAgYWxlcnQoJ2Vycm9yJyk7CiAgICAgIGxldCBzZWxmID0gdGhpczsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIG5hbWU6ICdMb2dpbicsCiAgICAgIH0pCiAgICB9KTsKICB9LAoKICBtZXRob2RzOiB7CiAgICB1cGRhdGUoKSB7CiAgICAgIGNvbnNvbGUubG9nKHRoaXMuZm90byk7CiAgICAgIHZhciB0b2tlbiA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCJ0b2tlbiIpOwogICAgICBsZXQgc2VsZiA9IHRoaXM7CiAgICAgIGxldCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpCiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnbmFtZScsIHRoaXMucG9zdC5uYW1lKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCd1c2VybmFtZScsIHRoaXMucG9zdC51c2VybmFtZSk7CiAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZW1haWwnLCB0aGlzLnBvc3QuZW1haWwpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2Zha3VsdGFzJywgdGhpcy5wb3N0LmZha3VsdGFzKTsKICAgICAgZm9ybURhdGEuYXBwZW5kKCdqdXJ1c2FuJywgdGhpcy5wb3N0Lmp1cnVzYW4pOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2FsYW1hdCcsIHRoaXMucG9zdC5hbGFtYXQpOwogICAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZvdG8nLCB0aGlzLmZvdG8pOwogICAgICBheGlvcyh7CiAgICAgICAgbWV0aG9kOiAncG9zdCcsCiAgICAgICAgdXJsOiAnaHR0cDovL2xvY2FsaG9zdDo4MDAwL2FwaS91c2VyL3VwZGF0ZS8nICsgdGhpcy4kcm91dGUucGFyYW1zLmlkLAogICAgICAgIGRhdGE6IGZvcm1EYXRhLAogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICJDb250ZW50LVR5cGUiOiAibXVsdGlwYXJ0L2Zvcm0tZGF0YSIsCiAgICAgICAgICAiQXV0aG9yaXphdGlvbiI6ICJCZWFyZXIgIiArIHRva2VuCiAgICAgICAgfQogICAgICB9KS50aGVuKChyZXNwb25zZSkgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT0gMjAwKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5zdGF0dXMgPT0gdHJ1ZSkgewogICAgICAgICAgICBhbGVydChyZXNwb25zZS5kYXRhLm1lc3NhZ2UpOwogICAgICAgICAgICBzZWxmLiRyb3V0ZXIucHVzaCh7CiAgICAgICAgICAgICAgbmFtZTogJ0Rhc2hib2FyZCcKICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICAgIGVsc2UgewogICAgICAgICAgICBhbGVydChyZXNwb25zZS5kYXRhLmVycm9yKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pLmNhdGNoKChlcnIpID0+IHsKICAgICAgICBhbGVydCgnZXJyb3InKTsKICAgICAgICBjb25zb2xlLmxvZyhlcnIpOwogICAgICAgIHNlbGYuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIG5hbWU6ICdMb2dpbicsCiAgICAgICAgfSkKICAgICAgfSk7CiAgICB9CiAgfQoKfQo="},{"version":3,"sources":["Useredit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmHA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"Useredit.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <navbar/>\n    <v-container>\n      <v-row justify=\"center\">\n        <v-col lg=\"6\">\n          <div v-bind:key=\"post\">\n            <h2>{{ post.name }}</h2>\n            <v-container>\n              <p>Foto</p>\n              <v-img\n                v-bind:src=\"post.foto\"\n                max-height=\"400\"\n              >\n              </v-img>\n              <v-form>\n                <v-col>\n                  <v-file-input\n                    outlined\n                    dense\n                    accept=\"image/*\"\n                    v-model=\"foto\"\n                    label=\"Foto\"\n                    name=\"foto\"\n                  ></v-file-input>\n                </v-col>\n                <v-row>\n                  <v-col\n                    cols=\"12\"\n                    sm=\"6\"\n                    md=\"4\"\n                  >\n                    <v-text-field\n                      v-model=\"post.name\"\n                      label=\"Name\"\n                      name=\"name\"\n                      type=\"text\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-col\n                    cols=\"12\"\n                    sm=\"6\"\n                    md=\"4\"\n                  >\n                    <v-text-field\n                      v-model=\"post.username\"\n                      label=\"Username\"\n                      name=\"username\"\n                      type=\"text\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-col\n                    cols=\"12\"\n                    sm=\"6\"\n                    md=\"4\"\n                  >\n                    <v-text-field\n                      v-model=\"post.email\"\n                      label=\"Email\"\n                      name=\"email\"\n                      type=\"email\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-col\n                    cols=\"12\"\n                    sm=\"6\"\n                    md=\"4\"\n                  >\n                    <v-text-field\n                      v-model=\"post.fakultas\"\n                      label=\"Fakultas\"\n                      name=\"fakultas\"\n                      type=\"text\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-col\n                    cols=\"12\"\n                    sm=\"6\"\n                    md=\"4\"\n                  >\n                    <v-text-field\n                      v-model=\"post.jurusan\"\n                      label=\"Jurusan\"\n                      name=\"jurusan\"\n                      type=\"text\"\n                    ></v-text-field>\n                  </v-col>\n                  <v-col\n                    cols=\"12\"\n                    sm=\"6\"\n                    md=\"4\"\n                  >\n                    <v-text-field\n                      v-model=\"post.alamat\"\n                      label=\"Alamat\"\n                      name=\"alamat\"\n                      type=\"text\"\n                    ></v-text-field>\n                  </v-col>\n                </v-row>\n              </v-form>\n              <v-row justify=\"center\" class=\"pb-4\">\n                  <v-card-actions>\n                    <v-btn v-on:click=\"update\" color=\"warning\">Save</v-btn>\n                  </v-card-actions>\n                </v-row>\n            </v-container>\n          </div>\n        </v-col>\n      </v-row>\n    </v-container>\n  </div>\n</template>\n\n<script>\nimport axios from \"axios\";\nimport Navbar from \"../components/Navbar.vue\";\n\nexport default {\ncomponents: { Navbar },\n\n  data () {\n    return {\n      post: {},\n      name: '',\n      username: '',\n      email: '',\n      fakultas: '',\n      jurusan: '',\n      alamat: '',\n    }\n  },\n\n  mounted: function () {\n    let self = this;\n\n    var token = localStorage.getItem(\"token\");\n    axios({\n        method: \"get\",\n        url: \"http://localhost:8000/api/user/detail/\" + this.$route.params.id,\n        headers: {\n            \"Authorization\": \"Bearer \" + token\n        }\n    }).then((response) => {\n      if (response.status == 200) {\n        if (response.data.status == true) {\n            this.post = response.data.data;\n        }\n      }\n    }).catch((err) => {\n      alert('error');\n      let self = this;\n      this.$router.push({\n        name: 'Login',\n      })\n    });\n  },\n\n  methods: {\n    update() {\n      console.log(this.foto);\n      var token = localStorage.getItem(\"token\");\n      let self = this;\n      let formData = new FormData()\n      formData.append('name', this.post.name);\n      formData.append('username', this.post.username);\n      formData.append('email', this.post.email);\n      formData.append('fakultas', this.post.fakultas);\n      formData.append('jurusan', this.post.jurusan);\n      formData.append('alamat', this.post.alamat);\n      formData.append('foto', this.foto);\n      axios({\n        method: 'post',\n        url: 'http://localhost:8000/api/user/update/' + this.$route.params.id,\n        data: formData,\n        headers: {\n          \"Content-Type\": \"multipart/form-data\",\n          \"Authorization\": \"Bearer \" + token\n        }\n      }).then((response) => {\n        if (response.status == 200) {\n          if (response.data.status == true) {\n            alert(response.data.message);\n            self.$router.push({\n              name: 'Dashboard'\n            })\n          }\n          else {\n            alert(response.data.error);\n          }\n        }\n      }).catch((err) => {\n        alert('error');\n        console.log(err);\n        self.$router.push({\n          name: 'Login',\n        })\n      });\n    }\n  }\n\n}\n</script>"]}]}